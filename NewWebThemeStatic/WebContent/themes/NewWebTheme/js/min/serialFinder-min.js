!function($){var e=window.location.protocol+"//"+window.location.host;$.widget("canon.serialNumberFinder",{options:{headerLabel:"HOW TO FIND YOUR SERIAL NUMBER",showCloseButton:!0,selectOptions:[],serialNumberWcmUrl:""},_create:function(){var e=this,s=this.element;$.ajax({url:this.options.serialNumberWcmUrl,type:"POST",datatype:"json"}).done(function(t){if(t.productCategoryItems&&t.productCategoryItems.items){e.options.selectOptions=t.productCategoryItems.items,s.addClass("row");var i=$("<div></div>",{"class":"col-xs-10 col-sm-10"});t.displayTitle?i.append($("<p><strong>"+t.displayTitle+"</strong></p>")):i.append($("<p><strong>"+e.options.headerLabel+"</strong></p>")),s.append(i);var a=$("<div></div>",{"class":"col-xs-2 col-sm-2 pull-right"});e.options.showCloseButton&&a.append(e._createCloseButton()),s.append(a);var r=$('<div class="row"></div>'),l=$('<div class="col-xs-12 col-sm-12"></div>');r.append(l),s.append(r),l.append(e._createSelectList()),l.append("<br/><br/>"),l.append($('<p id="serial-title"></p>')),l.append($('<p id="serial-description"></p>')),l.append($('<p><img id="serial-image" class="img-responsive"></p>')),e._addCategoryHandler(),e._addCloseHandler()}})},_createCloseButton:function(){var e=$("<a></a>",{"class":"addBtn pull-right"});return e.append($("<span></span>",{"class":"glyphicon glyphicon-remove close-serial-number"})),e},_createSelectList:function(){var e=$("<select></select>",{"class":"form-control selectpicker",id:"serial-number-select"});return e.append('<option value="-1"></option>'),$.each(this.options.selectOptions,function(s,t){var i=$("<option>"+t.title+"</option>");i.data("element",t),e.append(i)}),e},_addCategoryHandler:function(){var s=this;$(".selectpicker").on("change",function(){var t=$(this).find("option:selected").data("element");t?($("#devicetype-mobile").is(":visible")?$("#serial-image").attr("src",e+t.imageMobile).addClass("img-responsive"):$("#devicetype-tablet").is(":visible")?$("#serial-image").attr("src",e+t.imageTablet).addClass("img-responsive"):$("#serial-image").attr("src",e+t.imageDesktop).addClass("img-responsive"),$("#serial-image").show(),$("#serial-title").html("<strong>"+t.title+"</strong>"),$("#serial-description").text(t.description)):s.clear()})},_addCloseHandler:function(){var e=this;$(".close-serial-number").click(function(){$("#SerialNumberInstructions").slideUp(),e.clear()})},clear:function(){$("#serial-image").attr("src","").removeClass("img-responsive").hide(),$("#serial-description").text(""),$("#serial-title").html(""),$("#serial-number-select").val("-1"),$("#serial-number-select").selectpicker("refresh"),$("#serial-number-select").selectpicker("render")}})}(jQuery);